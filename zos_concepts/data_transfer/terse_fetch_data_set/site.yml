###############################################################################
# Â© Copyright IBM Corporation 2021
###############################################################################

###############################################################################
# This playbook (`site.yml`) is the master playbook for this project. Based on
# the playbooks requirments, `site.yml` playbook will evalute the requirements
# and report when the minimum requirements are not configured and fail playbook
# execution.
#
# Upon successful dependency analyais, the z/OS playbook will be executed.
#
# Usage:
#  ansible-playbook -i <inventory> <playbook>
#
# Example:
#  ansible-playbook -i inventory site.yml
#  ansible-playbook -i inventory site.yml -v
###############################################################################


---
- hosts: localhost

  tasks:
  - name: Parse the registry for collection entries
    include_vars: runtime-requirements.yml

  - name: Display the registered collections and properites in `registry.yml`.
    include_role:
      name: requirements-check

- name: Executing the z/OS Ansible playbook
  import_playbook: terse_fetch_data_set.yml
