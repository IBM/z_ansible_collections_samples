# *+------------------------------------------------------------------------+
# *| © Copyright IBM Corp. 2025                                             |
# *| [10.17.2025]                                                           |
# *|   - Tested with ACC 1.2.6                                              |
# *|   - Initial release                                                    |
# *| [12.12.2025]                                                           |
# *|   - Tested with ACC 1.2.10                                             |
# *+------------------------------------------------------------------------+

#####################################################################################################
# NOTE: If you uncomment any variables in the vars file, make sure to uncomment the corresponding
# sections in the scripts as well. Please review the script thoroughly before running it.
######################################################################################################

# IP of the ACC LPAR (e.g., "https://9.152.150.224:8081/api")
acc_ip: https://9.120.0.0:8081/api

####### Initialize ACC #######

# Initialize the ACC with default mode (hmc_managed: true) or standalone mode (hmc_managed: false)
hmc_managed: true


####### HMC access #######

# HMC host ip (e.g., T28: 9.10.0.0)
hmc_url: "9.0.0.0"

# ACC-admin's user name on the HMC (e.g., xyz.ibm.com)
# Export before run: export HMC_USER=<your_hmc_username>
hmc_user: "{{ lookup('env', 'HMC_USER') }}"

# ACC-admin's password on the HMC (e.g., passw0rd123)
# Export before run: export HMC_PASSWORD=<your_hmc_password>
hmc_password: "{{ lookup('env', 'HMC_PASSWORD') }}"


####### Users #######

# ACC LPAR's username (default admin username) (e.g., cc_admin)
# Export before run: export ACC_ADMIN_USER=<your_admin_username>
cc_admin_user: "{{ lookup('env', 'ACC_ADMIN_USER') }}"

# ACC LPAR's password (default admin password) (e.g., "defaultPassw0rd")
# Export before run: export ACC_ADMIN_DEFAULT_PASSWORD=<your_admin_old_password>
cc_admin_old_password: "{{ lookup('env', 'ACC_ADMIN_DEFAULT_PASSWORD') }}"

# Updated password for ACC LPAR (updated admin password) (e.g., "defaultPassw0rd1").
# Export before run: export ACC_ADMIN_PASSWORD=<your_new_password>
cc_admin_password: "{{ lookup('env', 'ACC_ADMIN_PASSWORD') }}"

# Specify the owner name for the new Owner's creation (e.g., cc_owner)
cc_owner_user: "cc_owner"

# Owner's email address (e.g., "cc_owner@email.com")
cc_owner_email: "cc_owner@email.com"

# Export before run: export ACC_OWNER_DEFAULT_PASSWORD=<owner_default_password>
cc_owner_default_password: "{{ lookup('env', 'ACC_OWNER_DEFAULT_PASSWORD') }}" # Specify default password for Owner's creation (e.g., "defaultP@ssw0rd")


####### Resources that are assigned to the appliance-owner #######


###########################################################################################
# A *resource package* is a bundle of hardware resources assigned to a
# specific set of logical partition (LPAR) and an appliance owner on an IBM Z system.
# The resource package defines how many total number of Cores (GPs or IFLs),
# how much total memory, and which LPARs within a CPC are assigned to the appliance owner.
# The parameters below define the resource package to be created and assigned. If you plan
# to install two SSAs, ensure that the resource package includes sufficient resources (ifls/gps and memory)
# to accommodate both SSA LPARs. The allocations later defined for the appliance(s) in
# the owner_vars file will be drawn from the total resources specified in the resource package.
# ------------------------------------------------------------------------------
#
# The SSA appliance requires at least 2 IFLs and a minimum of 51200 (in MB) per LPAR. 
# For better performance, more resource can be assigned depending on the expected workload.
#
# Memory should always be a multiple of 1024 (1 GB).
###########################################################################################

# CPC or machine name (e.g., "T28")
z_machine_name: "T28"

# Resource package name (e.g., "RP01")
package_name: "resource_package_1"

# Number of IFLs can range from 0 up to the CPC's available IFL count (e.g., 0)
package_ifls: 0

# Number of general-purpose Cores (GCPs); can range from 0 up to the CPC's available GCP count (e.g., 6)
package_gps: 6

# Memory allocated for resource creation (in MB): depends on the CPC's customerStorageAvailable, it should be multiple of 1024.
package_memory_mb: 51200


################################################################################
# How to use this configuration file for Resource Package creation
#
# You can create a Resource Package (RP) with either:
#   1️. A SINGLE LPAR → Fill in ONLY the **First LPAR Configuration** section below.
#   2️. TWO LPARs     → Fill in BOTH the **First LPAR Configuration** and
#                      the **Second LPAR Configuration** sections below.
#   3. First LPAR Configuration (Always required)
#   4. Second LPAR Configuration (Only required if you want to create a Resource Package with 2 LPARs)
#   5. Please set the correct values for LPARS (logical partitions); otherwise,
#    the installation may fail with a generic error message.
#   6. Ensure the LPAR name exactly matches an existing, valid LPAR defined
#    on the target CPC.
################################################################################

####### First LPAR Configuration #######

# Logical partition (LPAR) name for resource assignment (e.g., "BLUEC1") should be valid SSA lpar name
lpar_name1: "CC12"

# SSC network interface name, same as in the SSC profile (e.g., "interface1")
interface1_name: "interface1"

 # Function ID (e.g., 00A5) used with the SSC network interface
fid1: "9382"

# Network prefix length (e.g., 23)
prefix1: 23

# VLAN ID (uncomment if applicable for your infra)
# vlan_id1: 300

# Disk identifier (e.g., "5f20" start with 0.0) for installing image on lpar disk
disk_id1: "0.0.5abc"

# Whether FCP disk is enabled or not, if TRUE then add wwpn and lun else FALSE
is_fcp1: false

# World Wide Port Name (WWPN) To be added only when is_fcp is true
# wwpn1: "50050763070B46A6"

# Logical Unit Number (LUN) To be added only when is_fcp is true
# lun1: "4016403900000000"

# Appliance IP address ( lpar ip)
app_ip1: "9.120.100.200"

# (IPv4/IPv6) gateway IP address
gw_ip1: "9.120.100.1"

# Channel Path ID (CHPID), if CHIP ID (e.g. "d0") available else FID (e.g., "9382")
# chpid1: "d0"

# Port number for the lpar (0 or 1), if CHIP ID available then only port can be added
# zport1: 0


####### Second LPAR Configuration #######

# Logical partition (LPAR) name for resource assignment (e.g., "BLUEC1") should be valid SSA lpar name
lpar_name2: "CC10"

# SSC network interface name, same as in the SSC profile (e.g., "interface1")
interface2_name: "interface2"

# Function ID (e.g., 00A5) used with the SSC network interface
fid2: "9382"

# Network prefix length (e.g., 23)
prefix2: 23

# VLAN ID (uncomment if applicable for your infra)
# vlan_id2: 300

# Disk identifier (e.g., "5f20" start with 0.0) for installing image on lpar disk
disk_id2: "0.0.5abc"

# Whether FCP disk is enabled or not, if TRUE then add wwpn and lun else FALSE
is_fcp2: false

# World Wide Port Name (WWPN) To be added only when is_fcp is true
# wwpn2: "50050763070B46A6"

# Logical Unit Number (LUN) To be added only when is_fcp is true
# lun2: "4016403900000000"

# Appliance IP address ( lpar ip)
app_ip2: "9.120.100.200"

# (IPv4/IPv6) gateway IP address
gw_ip2: "9.120.100.1"

# Channel Path ID (CHPID), if CHIP ID (e.g. "d0") available else FID (e.g., "9382")
# chpid2: "d0"

# Port number for the lpar (0 or 1), if CHIP ID available then only port can be added
# zport2: 0
